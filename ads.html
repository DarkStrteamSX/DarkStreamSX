
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ad - Please wait</title>
<style>
  body { background: #121212; color: #eee; font-family: Arial, sans-serif; text-align: center; padding: 40px; }
  #timer { font-size: 3em; margin: 20px 0; color: #ff4081; }
  #ad-area { margin: 20px auto; width: 300px; height: 250px; background: #333; border-radius: 8px; }
  #skip-btn { display: none; margin-top: 20px; padding: 10px 20px; font-size: 1em; background: #ff4081; border: none; color: white; border-radius: 5px; cursor: pointer; }
</style>
</head>
<body>
<h1>Sponsored Ad - Please wait <span id="timer">20</span> seconds</h1>
<div id="ad-area">
  <!-- Insert your banner ad script or CPA locker here -->
  <p style="padding-top: 100px;">Your Ad Here</p>
</div>
<button id="skip-btn" onclick="skipAd()">Skip Ad</button>

<script>
// Get URL params
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

const id = getQueryParam('id');
const platform = getQueryParam('platform');

// Video data from videos.json - for demo copied here (replace with fetch or backend in real site)
const videos = [
  {
    "id": "1",
    "title": "Hot Action Movie 2025",
    "thumbnail": "thumb1.jpg",
    "doodstream": "https://doodstream.com/example1",
    "terabox": "https://terabox.com/example1"
  },
  {
    "id": "2",
    "title": "Romantic Night Scenes",
    "thumbnail": "thumb2.jpg",
    "doodstream": "https://doodstream.com/example2",
    "terabox": "https://terabox.com/example2"
  },
  {
    "id": "3",
    "title": "Thrilling Encounter",
    "thumbnail": "thumb3.jpg",
    "doodstream": "https://doodstream.com/example3",
    "terabox": "https://terabox.com/example3"
  }
];

function findVideoById(vid) {
  return videos.find(v => v.id === vid);
}

const video = findVideoById(id);
if(!video){
  document.body.innerHTML = '<h1>Video not found!</h1>';
}

let countdown = 20; // seconds
const timerElem = document.getElementById('timer');
const skipBtn = document.getElementById('skip-btn');

const countdownInterval = setInterval(() => {
  countdown--;
  timerElem.textContent = countdown;
  if(countdown <= 5){
    skipBtn.style.display = 'inline-block';
  }
  if(countdown <= 0) {
    clearInterval(countdownInterval);
    redirectToVideo();
  }
}, 1000);

function skipAd(){
  clearInterval(countdownInterval);
  redirectToVideo();
}

function redirectToVideo(){
  let url = '';
  if(platform === 'doodstream'){
    url = video.doodstream;
  } else if(platform === 'terabox'){
    url = video.terabox;
  }
  window.location.href = url;
}
</script>
</body>
</html>
